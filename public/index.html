<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"
      integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@8"></script>

    <link rel="stylesheet" type="text/css" href="/stylesheets/index.css" />

    <title>Web-Push Application</title>
    <script>
      $("document").ready(function() {
        $("#pushForm").on("submit", function(event) {
          event.preventDefault();

          $.ajax({
            url: "/push",
            dataType: "json",
            type: "post",
            contentType: "application/x-www-form-urlencoded",
            data: $(this).serialize(),
            success: function(data, textStatus, jQxhr) {
              Swal.fire({
                title: "<i>Success</i>",
                html: "Your notification has been sent",
                confirmButtonText: "OK"
              });
            },
            error: function(jqXhr, textStatus, errorThrown) {
              console.log(errorThrown);
            }
          });
        });
      });
    </script>
  </head>

  <body>
    <!-- <script src="app.js"></script> -->
    <div class="container">
      <div class="row">
        <div class="col-md"></div>
        <div class="col-md" id="logo">
          <img style="width: auto; height:70px" src="/png/remo.png" />
        </div>
        <div class="col-md"></div>
      </div>
    </div>
    <div class="row">
      <div class="col-md"></div>
      <div id="block" class="col-md">
        <div class="form-group">
          <form id="pushForm">
            <div class="form-group">
              <label for="message">Message</label>
              <input
                type="text"
                class="form-control"
                id="message"
                name="message"
                placeholder="Message"
              />
            </div>
            <div class="form-group">
              <label for="title">Select Type of Push Notification</label>
              <select class="form-control" id="title" name="title">
                <option>User Joined</option>
                <option>User Left</option>
                <option>Broadcast Started</option>
                <option>Broadcast Stopped</option>
                <option>Other Connection Issue</option>
                <option>My Connection Issue</option>
                <option>My Webcam Issue</option>
                <option>Other Webcam Issue</option>
              </select>
            </div>
            <button type="submit" class="btn btn-primary">
              Submit
            </button>
          </form>
        </div>
      </div>
      <div class="col-md"></div>
    </div>
  </body>
</html>
